<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/coursedescrip.css">
    <script src="Java/coursedescrip.js" defer></script>
    <title>Course Details</title>
</head>
<body>
    <!-- Back Button -->
    <a href="courses.html" id="backButton">
        <img src="Img/Back button.png" alt="Back" id="backIcon"> 
    </a>

    <!-- Cart Icon on Top Right -->
    <a href="cart.html" id="topCartIcon">
        <img src="Img/Shopping_Cart.png" alt="Cart Icon" id="topCartImg">
    </a>

    <center>
    
    <div id="courseContainer">
        <div id="courseImage">
            <img src="Img/lifeskills1.png" alt="Course Image" id="courseImg"> <!-- Change to your course image -->
        </div>
        <div id="courseInfo">
            <h2 id="courseName">Life Skills</h2> <!-- Course name will be dynamically added here -->
            <p id="coursePrice">R1500.00</p> <!-- Course price will be dynamically added here -->
            <button class="button" onclick="addToCart()">
                <span>Add to cart</span>
                <svg fill="#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <g stroke-width="0" id="SVGRepo_bgCarrier"></g>
                    <g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g>
                    <g id="SVGRepo_iconCarrier">
                        <g id="cart">
                            <circle r="1.91" cy="20.59" cx="10.07" class="cls-1"></circle>
                            <circle r="1.91" cy="20.59" cx="18.66" class="cls-1"></circle>
                            <path d="M.52,1.5H3.18a2.87,2.87,0,0,1,2.74,2L9.11,13.91H8.64A2.39,2.39,0,0,0,6.25,16.3h0a2.39,2.39,0,0,0,2.39,2.38h10" class="cls-1"></path>
                            <polyline points="7.21 5.32 22.48 5.32 22.48 7.23 20.57 13.91 9.11 13.91" class="cls-1"></polyline>
                        </g>
                    </g>
                </svg>
            </button>
            <button id="buyNow" onclick="buyNow()">Buy Now</button> <!-- Updated button -->
        </div>
    </div>
</center>

    <div id="moreInfo">
        <button id="toggleInfo">More Information</button>
        <div id="infoContent" style="display: none;">
            <div>
                <h2>Fees: R1500</h2>
                <h3>Purpose:</h3>
                <p>To provide skills to navigate basic life necessities.</p>
                <h3>Content:</h3>
                <ul>
                    <li>Opening a bank account</li>
                    <li>Basic labour law (know your rights)</li>
                    <li>Basic reading and writing literacy</li>
                    <li>Basic numeric literacy</li>
                </ul>
            </div>
            
        </div>
    </div>
    <script>
        // Toggle "More Information" section
        document.getElementById("toggleInfo").addEventListener("click", function() {
            const infoContent = document.getElementById("infoContent");
            if (infoContent.style.display === "none" || infoContent.style.display === "") {
                infoContent.style.display = "block";
            } else {
                infoContent.style.display = "none";
            }
        });
    
        function addToCart() {
            const item = {
                name: document.getElementById("courseName").textContent,
                price: parseFloat(document.getElementById("coursePrice").textContent.replace("R", "")),
                image: document.getElementById("courseImg").src
            };
    
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.push(item);
            localStorage.setItem("cart", JSON.stringify(cart));
    
            alert("Item added to cart!");
        }
    
        function buyNow() {
            const item = {
                name: document.getElementById("courseName").textContent,
                price: parseFloat(document.getElementById("coursePrice").textContent.replace("R", "")),
                image: document.getElementById("courseImg").src
            };
    
            localStorage.setItem("currentPurchase", JSON.stringify(item));
            window.location.href = "payment.html";
        }

        function buyNow() {
    const item = {
        name: document.getElementById("courseName").textContent,
        price: parseFloat(document.getElementById("coursePrice").textContent.replace("R", "")),
        image: document.getElementById("courseImg").src
    };

    // Store the current purchase and the final amount in local storage
    localStorage.setItem("currentPurchase", JSON.stringify(item));
    localStorage.setItem("finalAmount", item.price); // Save the final amount
    window.location.href = "payment.html";
}

    </script>
</body>
</html>
